generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Role {
  MASTER
  STAFF
}

model Admin {
  id       Int    @id @default(autoincrement())
  username String @unique
  password String
  role     Role
}

enum Support {
  EDUCATION
  PLACEMENT
  TRAINING
}

model Student {
  firstName    String
  lastName     String
  aadharNumber String           @id @unique
  emailId      String           @unique
  phone_no     String           @unique @default("")
  eforms       EducationDetail?
  tform        trainingDetail?
  supportType  Support          @default(EDUCATION)
  paid         Boolean          @default(false)
  location     String           @default("")
  Reg_Time     DateTime         @default(now())
}

enum Division {
  FIRST
  SECOND
  THIRD
}

model EducationDetail {
  eform_id      Int      @id @default(autoincrement())
  student       Student  @relation(fields: [aadharStudent], references: [aadharNumber])
  aadharStudent String   @unique
  qualification String
  passingYear   Int
  division      Division
  institute     String
  percentage    Float?   @default(00.00)
  board         String
}

model trainingDetail {
  tform_id          Int     @id @default(autoincrement())
  student           Student @relation(fields: [aadharStudent], references: [aadharNumber])
  aadharStudent     String  @unique
  isRegularTraining Boolean @default(false) // false means -> onsite and true means -> regular
  sector            String
  role              String
  organization      String
  trainingLocation  String
  isPaid            Boolean @default(false)
  payAmt            Int     @default(0)
}

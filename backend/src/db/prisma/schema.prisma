generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Role {
  MASTER
  STAFF
}

model Admin {
  id       Int    @id @default(autoincrement())
  username String @unique
  password String
  role     Role
}

model Student {
  id                    String            @id @default(cuid())
  firstName             String
  lastName              String
  aadharNumber          String            @unique
  emailId               String            @unique
  phoneNo               String            @unique @default("")
  address               String
  state                 String
  city                  String
  dob                   DateTime
  gender                String
  category              String
  religion              String
  residentialStatus     String
  financialStatus       String
  fathersOccupation     String
  guardianContactNumber String
  termsAccepted         Boolean           @default(true)
  education             StudentEducation?
  support               StudentSupport?
  regTime               DateTime          @default(now())
}

model StudentEducation {
  id                 String   @id @default(cuid())
  studentId          String   @unique
  qualificationBoard String
  passingYear        String
  percentage         String
  division           String
  date               DateTime
  student            Student  @relation(fields: [studentId], references: [id])
}

model StudentSupport {
  id             String  @id @default(cuid())
  studentId      String  @unique
  support        String
  supportType    String
  course         String
  duration       String
  instituteFees  String
  trainingSector String
  location       String
  mode           String
  role           String
  salary         String
  student        Student @relation(fields: [studentId], references: [id])
}
